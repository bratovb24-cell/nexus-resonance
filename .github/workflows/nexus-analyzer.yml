name: NEXUS Analyzer Agents (Phase 3)

on:
  schedule:
    - cron: '*/30 * * * *'
  workflow_dispatch:

env:
  PYTHONUNBUFFERED: '1'
  PYTHONIOENCODING: 'utf-8'
  PYTHONDONTWRITEBYTECODE: '1'

jobs:
  analyze:
    name: Run Analyzer Agents
    runs-on: ubuntu-latest
    timeout-minutes: 10

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Setup Python 3.11
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'

      - name: Run Analyzer
        shell: bash
        run: |
          set -e
          echo "ðŸ§¬ NEXUS Analyzer starting..."
          python -u nexus_agents/analyzer.py
          echo "âœ… Done"

      - name: Success
        if: success()
        run: echo "âœ… Workflow completed successfully"
